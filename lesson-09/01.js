/*
  –ò–∑—É—á–∏—Ç–µ —Ñ–∞–π–ª index.html (—Å–µ–∫—Ü–∏—é "–£—Ä–æ–∫ 8"). –†–∞–∑–º–µ—Ç–∫–∞ —É–∂–µ –Ω–∞–ø–∏—Å–∞–Ω–æ - –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ js-–∫–æ–¥.

  –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–∞–≥–∞–∑–∏–Ω–∞ –ø–∏—Ç–æ–º—Ü–µ–≤ –ø–æ—á—Ç–∏ –≥–æ—Ç–æ–≤. –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–∏—Ç–æ–º—Ü–µ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É.
  –í–∞—à–∞ –∑–∞–¥–∞—á–∞ –Ω–∞–ø–∏—Å–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –ø–∏—Ç–æ–º—Ü–µ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É.

  1. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å –ø–∏—Ç–æ–º—Ü–µ–º, id –ø–∏—Ç–æ–º—Ü–∞ –¥–æ–ª–∂–µ–Ω –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –≤ –º–∞—Å—Å–∏–≤ cart.
  2. –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–∏—Ç–æ–º—Ü–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–∑–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é updateCartDisplay (–æ–Ω–∞ –æ–±–Ω–æ–≤–∏—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã).
  3. –í –∫–æ—Ä–∑–∏–Ω—É –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ –±–æ–ª–µ–µ 3 –ø–∏—Ç–æ–º—Ü–µ–≤. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ,
  —Ç–æ –≤ messageBox –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—Å—è —Ç–µ–∫—Å—Ç: '–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ 3 –ø–∏—Ç–æ–º—Ü–µ–≤'

  ‚ùï‚ùï‚ùï –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π –≤ –∑–∞–¥–∞–Ω–∏–∏ –∫–æ–¥ –Ω–µ —Å–ª–µ–¥—É–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–æ–ø–∏—Å–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è.

  üßô –ü–æ–¥—Å–∫–∞–∑–∫–∞: –∏—Å–ø–æ–ª—å–∑—É–π –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ - –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏–π –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
  üßô –ü–æ–¥—Å–∫–∞–∑–∫–∞: –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–Ω–µ—Ç –ø–æ –∫–Ω–æ–ø–∫–µ —Å –ø–∏—Ç–æ–º—Ü–µ–≤, id –ø–∏—Ç–æ–º—Ü–∞ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –∏–∑ –æ–±—ä–µ–∫—Ç–∞ —Å–æ–±—ã—Ç–∏—è (event.target.id)
*/

const PETS = [
  { id: 'cat', title: 'üê±' },
  { id: 'dog', title: 'üê∂' },
  { id: 'parrot', title: 'ü¶ú' },
  { id: 'fish', title: 'üê†' },
  { id: 'spider', title: 'üï∑' },
  { id: 'snake', title: 'üêç' },
  { id: 'hamster', title: 'üêπ' },
  { id: 'turtle', title: 'üê¢' },
  { id: 'chinchilla', title: 'ü¶á' },
  { id: 'hedgehog', title: 'ü¶î' },
  { id: 'rat', title: 'üêÄ' },
  { id: 'frog', title: 'üê∏' },
]

const cart = []

const petShop = document.querySelector('.pet-shop')
const cartList = document.getElementById('cart-list')
const messageBox = document.getElementById('message-box')
const clearCartButton = document.getElementById('clear-cart-button')

// –†–µ–Ω–¥–µ—Ä–∏–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è –ø–∏—Ç–æ–º—Ü–µ–≤
for (let i = 0; i < PETS.length; i++) {
  const pet = PETS[i]

  const petButtonElement = document.createElement('button')
  petButtonElement.classList.add('pet')
  petButtonElement.id = pet.id
  petButtonElement.textContent = pet.title

  petShop.append(petButtonElement)
}

// –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
function updateCartDisplay() {
  cartList.innerHTML = ''

  for (let i = 0; i < cart.length; i++) {
    const petId = cart[i]
    const pet = PETS.find((item) => item.id === petId)

    const petSpanElement = document.createElement('li')
    petSpanElement.classList.add('pet')
    petSpanElement.textContent = pet.title
    cartList.append(petSpanElement)
  }
}

clearCartButton.addEventListener('click', function () {
  cart.length = 0
  updateCartDisplay()
})

// –¢–≤–æ–π –∫–æ–¥:
function addToCart() {
	//–ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º petElements –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π —Å –∏–º–µ–Ω–µ–º –∫–ª–∞—Å—Å–∞ 'pet'
	const petElements = document.getElementsByClassName('pet')
	//–¶–∏–∫–ª for –≤ —Ñ—É–Ω–∫—Ü–∏–∏ addToCart –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ç–æ–≥–æ,
	// —á—Ç–æ–±—ã –Ω–∞–∑–Ω–∞—á–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –∫–ª–∏–∫–∞ (addEventListener('click', ...))
	// –∫–∞–∂–¥–æ–º—É –æ—Ç–¥–µ–ª—å–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –Ω–∞ –≤–∞—à–µ–π –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –∫–ª–∞—Å—Å 'pet'.
	//–ë–µ–∑ —ç—Ç–æ–≥–æ —Ü–∏–∫–ª–∞ –∫–æ–¥ –Ω–∞–∑–Ω–∞—á–∏–ª –±—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞–ª–∏—Å—å –±—ã –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏.

	//–¶–∏–∫–ª for –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–Ω–µ—Ç –Ω–∞ –ª—é–±—É—é –∏–∑ 12 –∫–∞—Ä—Ç–æ—á–µ–∫,
	// —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥, –¥–æ–±–∞–≤–ª—è—é—â–∏–π ID —ç—Ç–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞ –≤ –º–∞—Å—Å–∏–≤ cart
	//–¶–∏–∫–ª for ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è; —ç—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ–≥–æ –±–ª–æ–∫–∞ –∫–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–æ–∫ {...} –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ –æ—á–µ—Ä–µ–¥–∏,
	//–≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ petElement.addEventListener('click', () =>
	for (let i = 0; i < petElements.length; i++) {
		//–õ–µ–∫—Å–∏—á–µ—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ ‚Äî —ç—Ç–æ "–∫–æ—Ä–æ–±–∫–∞", –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –≤–∏–¥–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è.
		//–ª–µ–∫—Å–∏—á–µ—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ (lexical scope) –¥–ª—è –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ü–∏–∫–ª–∞.

		//—Ç–æ –µ—Å—Ç—å –ù–∞ –ø–µ—Ä–≤–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ (i = 0), JavaScript —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é "–≤–µ—Ä—Å–∏—é" –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π petElement,
		// –∫–æ—Ç–æ—Ä–∞—è —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç "–ö–æ—à–∫–∞" (id="cat").
		// –ö–æ–≥–¥–∞ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è addEventListener, —Ñ—É–Ω–∫—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç (–∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç) —Å—Å—ã–ª–∫—É –∏–º–µ–Ω–Ω–æ –Ω–∞ —ç—Ç—É –≤–µ—Ä—Å–∏—é –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.

		// –ù–∞ –≤—Ç–æ—Ä–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ (i = 1), JavaScript —Å–æ–∑–¥–∞–µ—Ç —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–æ–≤—É—é "–≤–µ—Ä—Å–∏—é" –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π petElement,
		// –∫–æ—Ç–æ—Ä–∞—è —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç "–°–æ–±–∞–∫–∞" (id="dog"). –§—É–Ω–∫—Ü–∏—è –¥–ª—è —ç—Ç–æ–≥–æ –∫–ª–∏–∫–∞ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —ç—Ç—É –≤—Ç–æ—Ä—É—é –≤–µ—Ä—Å–∏—é.

			// –ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.
			const petElement = petElements[i]
		console.log(petElement)
			//—É–Ω–∏–∫–∞–ª—å–Ω—ã–π Listener –Ω–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—é, –æ–Ω –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç—Å—è –∫ DOM-—ç–ª–µ–º–µ–Ω—Ç—É –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ü–∏–∫–ª–∞.
			//–í–æ—Ç –∑–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç "—Å–∫–ª–µ–∏–≤–∞–Ω–∏–µ"!

			//addEventListener ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.
			//–≠—Ç–æ –∫–æ–º–∞–Ω–¥–∞ –±—Ä–∞—É–∑–µ—Ä—É –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ DOM, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –±—ã–ª –≤—ã–∑–≤–∞–Ω.
			//–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è petElement –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –≤ JavaScript –Ω–∞ —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç DOM, —á—Ç–æ–±—ã –≤—ã–∑–≤–∞—Ç—å –Ω–∞ –Ω–µ–º –º–µ—Ç–æ–¥ addEventListener.
			//–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —Ü–∏–∫–ª –∑–∞–≤–µ—Ä—à–∏–ª—Å—è, –≤—Å–µ 12 —Å–ª—É—à–∞—Ç–µ–ª–µ–π —É–∂–µ —Å–∏–¥—è—Ç "–ø—Ä–∏–∫–ª–µ–µ–Ω–Ω—ã–º–∏" –∫ —Å–≤–æ–∏–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –≤ –ø–∞–º—è—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞, –≥–æ—Ç–æ–≤—ã–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∫–ª–∏–∫–∏.
		petElement.addEventListener('click', () => {
			// ... –õ–æ–≥–∏–∫–∞ —Å–ª—É—à–∞—Ç–µ–ª—è ...
			console.log(petElement)
			if (cart.length < 3) {
				const petId = petElement.id
				cart.push(petId);
				updateCartDisplay()
			} else {
				messageBox.textContent = '–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ 3 –ø–∏—Ç–æ–º—Ü–µ–≤';
			}
		})
	}
}
addToCart()



